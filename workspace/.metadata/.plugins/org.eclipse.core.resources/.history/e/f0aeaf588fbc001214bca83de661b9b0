import it.unibo.baseEnv.basicFrame.EnvFrame;
import it.unibo.droneMission.display.DisplayGuiOdometer;
import it.unibo.droneMission.gauge.OdometerWithDisplay;
import it.unibo.droneMission.interfaces.IDisplay;
import it.unibo.is.interfaces.IBasicEnvAwt;

import java.awt.Button;
import java.awt.Panel;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import src.it.unibo.display2012.DisplayGuiContaKm;




public class Prototype1 {
	public OdometerWithDisplay CKM=null;
	private IDisplay DIS=null;
	private IBasicEnvAwt env=null;
	
	public static void main(String[] args) throws Exception{
		new Prototype1().configure();
	}
	
	protected void configure(){
		initDisplay();
		configureCkm();
	}
		
	protected void initDisplay() {
		env = new EnvFrame( "ContaKm2012" );
		//        env.initNoFrame();        //does not show the frame
		env.init();
		env.writeOnStatusBar("Odometer" + " | working ... ",14);
		DIS = new DisplayGuiOdometer( env );
		
		Button b=new Button("Incrementa");
		b.addActionListener(new ActionListener(){

				@Override
				public void actionPerformed(ActionEvent arg0) {
					try {
						CKM.update();
					} catch (Exception e) {
						// TODO Auto-generated catch block
						e.printStackTrace();
					}
				}
				   
			   });
		env.addPanel(b);
	}
	protected void configureCkm(){
		env.addPanel((Panel) DIS);
		CKM=new OdometerWithDisplay(DIS);		
	}
}

