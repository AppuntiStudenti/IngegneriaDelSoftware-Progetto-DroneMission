package it.unibo.droneMission.system;

import it.unibo.baseEnv.basicFrame.EnvFrame;
import it.unibo.droneMission.display.DisplayGuiOdometer;
import it.unibo.droneMission.gauge.GaugeValueInt;
import it.unibo.droneMission.gauge.OdometerWithDisplay;
import it.unibo.droneMission.gauge.SpeedometerWithDisplay;
import it.unibo.droneMission.interfaces.IGaugeDisplay;
import it.unibo.is.interfaces.IBasicEnvAwt;

import java.awt.Button;
import java.awt.Panel;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public class SpeedometerPrototype {
	public SpeedometerWithDisplay speedometer=null;
	private IGaugeDisplay dis=null;
	private IBasicEnvAwt env=null;
	
	public static void main(String[] args) throws Exception{
		new OdometerPrototype().configure();
	}
	
	protected void configure(){
		initDisplay();
		configureCkm();
	}
		
	protected void initDisplay() {
		env = new EnvFrame( "Speedometer" );
		//        env.initNoFrame();        //does not show the frame
		env.init();
		env.writeOnStatusBar("Speedometer" + " | drone sleeping ... ",14);
		dis = new DisplayGuiOdometer( env );
		
		Button inc=new Button("Incrementa");
		b.addActionListener(new ActionListener(){

				@Override
				public void actionPerformed(ActionEvent arg0) {
					try {
						speedometer.setVal(new GaugeValueInt(speedometer.getVal().valAsInt()+speedometer.DS));
					} catch (Exception e) {
						// TODO Auto-generated catch block
						e.printStackTrace();
					}
				}
				   
			   });
		Button dec=new Button("Decrementa");
		b.addActionListener(new ActionListener(){

				@Override
				public void actionPerformed(ActionEvent arg0) {
					try {
						speedometer.setVal(new GaugeValueInt(speedometer.getVal().valAsInt()-speedometer.DS));
					} catch (Exception e) {
						// TODO Auto-generated catch block
						e.printStackTrace();
					}
				}
				   
			   });
		env.addPanel(b);
	}
	protected void configureCkm(){
		env.addPanel((Panel) dis);
		speedometer=new SpeedometerWithDisplay(dis);		
	}
}
